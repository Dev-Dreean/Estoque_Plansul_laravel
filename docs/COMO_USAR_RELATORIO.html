<!-- üìã COMO INTEGRAR O RELAT√ìRIO DE FUNCION√ÅRIOS NA APLICA√á√ÉO -->

<!-- 1Ô∏è‚É£ FORMA SIMPLES (Recomendada) -->
<!-- Use em qualquer view/blade para adicionar o bot√£o -->

<div class="mt-6">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">
        üìä Exportar Dados
    </h3>
    
    <x-relatorio-download />
</div>

---

<!-- 2Ô∏è‚É£ EM DASHBOARD -->
<!-- resources/views/dashboard.blade.php -->

<div class="py-12">
    <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
        <div class="bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg">
            <div class="p-6 text-gray-900 dark:text-gray-100">
                
                <h2 class="text-2xl font-bold mb-6">Dashboard</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    
                    <!-- Card 1: Stats -->
                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <h3 class="font-semibold mb-2">Patrim√¥nios</h3>
                        <p class="text-3xl font-bold text-blue-600">{{ $totalPatrimonios }}</p>
                    </div>
                    
                    <!-- Card 2: Relat√≥rio -->
                    <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                        <h3 class="font-semibold mb-3">Relat√≥rio</h3>
                        <x-relatorio-download />
                    </div>
                    
                </div>
                
            </div>
        </div>
    </div>
</div>

---

<!-- 3Ô∏è‚É£ EM MODAL/SIDEBAR -->
<!-- Dentro de um modal ou sidebar menu -->

<div class="space-y-3">
    
    <button class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">
        üìà Statistiques
    </button>
    
    <button class="w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">
        <div class="flex items-center justify-between">
            <span>üì• Relat√≥rio Funcion√°rios</span>
        </div>
    </button>
    
    <!-- Componente dentro -->
    <div class="px-4 py-2">
        <x-relatorio-download class="w-full" />
    </div>
    
</div>

---

<!-- 4Ô∏è‚É£ COM LABEL/DESCRI√á√ÉO -->

<div class="mb-6">
    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3">
        üìÑ Exportar Lista de Funcion√°rios
    </label>
    
    <p class="text-xs text-gray-600 dark:text-gray-400 mb-3">
        Gera um arquivo CSV com todos os 92.755 funcion√°rios cadastrados.
        O download come√ßar√° automaticamente ap√≥s a gera√ß√£o.
    </p>
    
    <x-relatorio-download />
</div>

---

<!-- 5Ô∏è‚É£ DENTRO DE UM FORMUL√ÅRIO (Grupo de A√ß√µes) -->

<form method="POST" action="{{ route('patrimonios.store') }}" class="space-y-6">
    @csrf
    
    <!-- ... campos do formul√°rio ... -->
    
    <!-- Se√ß√£o de A√ß√µes -->
    <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
        
        <h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 mb-4">
            A√ß√µes
        </h3>
        
        <div class="flex flex-wrap gap-4">
            
            <!-- Bot√£o Salvar -->
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                üíæ Salvar
            </button>
            
            <!-- Bot√£o Cancelar -->
            <a href="{{ route('patrimonios.index') }}" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400">
                ‚ùå Cancelar
            </a>
            
            <!-- Relat√≥rio -->
            <div class="ml-auto">
                <x-relatorio-download />
            </div>
            
        </div>
        
    </div>
    
</form>

---

<!-- 6Ô∏è‚É£ JAVASCRIPT CUSTOMIZADO (Advanced) -->

<div x-data="relatorioCustomizado()" class="space-y-4">
    
    <button @click="iniciarDownload" 
            :disabled="carregando"
            class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50">
        <span x-show="!carregando">üöÄ Gerar Relat√≥rio Agora</span>
        <span x-show="carregando">‚è≥ Gerando...</span>
    </button>
    
    <div x-show="progresso > 0" class="mt-4">
        <div class="w-full h-3 bg-gray-200 rounded">
            <div class="h-full bg-blue-600 transition-all" :style="`width: ${progresso}%`"></div>
        </div>
        <p class="text-sm text-gray-600 mt-2">
            <span x-text="progresso"></span>% conclu√≠do
        </p>
    </div>
    
</div>

<script>
function relatorioCustomizado() {
    return {
        carregando: false,
        progresso: 0,
        
        async iniciarDownload() {
            this.carregando = true;
            this.progresso = 0;
            
            try {
                const response = await fetch('{{ route("relatorio.funcionarios.download") }}');
                const blob = await response.blob();
                
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'relatorio_funcionarios_' + new Date().toISOString().split('T')[0] + '.csv';
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
                
                this.progresso = 100;
            } catch (error) {
                console.error('Erro:', error);
            } finally {
                this.carregando = false;
            }
        }
    };
}
</script>

---

<!-- 7Ô∏è‚É£ VIA MIDDLEWARE/API -->

<!-- Se quiser fazer download via API -->
<!-- GET https://seu-dominio.com/relatorio/funcionarios/download -->

<script>
async function downloadRelatorio() {
    const response = await fetch('/relatorio/funcionarios/download');
    const blob = await response.blob();
    
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'relatorio_funcionarios.csv';
    a.click();
}
</script>

---

## üìù NOTAS IMPORTANTES

1. **O componente √© responsivo:**
   - Pequenas telas: bot√£o ocupa width completo
   - Grandes telas: bot√£o normal com espa√ßo

2. **Dark mode autom√°tico:**
   - N√£o precisa fazer nada
   - TailwindCSS cuida automaticamente

3. **Modal overlay:**
   - Sempre sobreposto (z-50)
   - Pode estar em z-[70] se dentro de outro modal

4. **Performance:**
   - Local: 15-20 segundos
   - KingHost: 25-30 segundos
   - Normal (n√£o √© lento, servidor √© processamento)

5. **Dados:**
   - 92.755 funcion√°rios
   - CSV semicolon-delimited
   - UTF-8 com BOM

---

## üöÄ USAR AGORA

1. Copie `<x-relatorio-download />` em qualquer Blade view
2. Teste localmente
3. Deploy em KingHost
4. Pronto!

Nenhuma customiza√ß√£o JavaScript necess√°ria.
O componente cuida de tudo (modal, progresso, download).
